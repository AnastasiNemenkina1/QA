# План автоматизации тестирования покупки тура

## **Задача**  
Автоматизировать позитивные и негативные сценарии покупки тура.

## **Артефакты**  
- SUT: `aqa-shop.jar` 
- Браузер: Chrome  
- Тестовый фреймворк: JUnit 5

## **Предусловия**  
Процедура запуска автотестов описана в файле README.md

**Карты, представленные для тестирования (файл data.json):**
4444 4444 4444 4441, status APPROVED
4444 4444 4444 4442, status DECLINED

**Тестируемые СУБД:**
MySQL;
PostgreSQL.

**Характеристика вводимых валидных тестовых данных:**

- поле «Номер карты»: 16 цифр
- поле «Месяц»: двузначное числовое значение от 01 до 12
- поле «Год»: двузначное числовое значение;
- поле «Владелец»: допустимые значения из латинских букв, дефисов, пробелов
- поле «CVC/CCV»: три цифры
  
## **Позитивные сценарии**

**1. Оплата по валидной дебетовой карте со статусом APPROVED:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» – трехзначное цифровое значение;
8. Кликнуть по кнопке «Продолжить».
*Ожидаемый результат: всплывающее окно с уведомлением «Успешно! Операция одобрена банком», В БД статус операции APPROVED.*

**2. Оплата по валидной дебетовой карте со статусом DECLINED:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4442;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначное цифровое значение;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: появилось всплывающее окно «Ошибка! Банк отказал в проведении операции», в БД статус операции DECLINED.*

**3. Оплата через кредит по данным карты со статусом APPROVED:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить в кредит»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначное цифровое значение;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: появилось всплывающее окно «Успешно! Операция одобрена банком», в БД статус операции APPROVED.*

**4. Оплата в кредит по данным карты со статусом DECLINED:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить в кредит»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4442;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначное цифровое значение;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: появилось всплывающее окно «Ошибка! Банк отказал в проведении операции», в БД статус операции DECLINED.*

**5. Покупка дебетовой картой срок действия - текущий месяц этого года:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - текущий месяц -1;
5. Ввести в поле «Год» - последние две цифры текущего года;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначное цифровое значение;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: появилось всплывающее окно «Успешно! Операция одобрена банком»*

## **Негативные сценарии**
*Примечание: негативные сценарии необходимо выполнять для двух форм - обычная оплата и оплата в кредит*

**1. Оплата по карте с пустыми полями:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить в кредит»;
3. Оставить все поля пустыми;
4. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: уведомление об ошибке под каждым из полей. Форма не отправлена*

**2. Оплата с невалидным номером карты:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 1111 2222 3333 444;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» – трехзначный номер;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: уведомление об ошибке «Неверный формат» под полем «Номер карты». Форма не отправлена.*

**3. Оплата по карте с невалидным значением месяца:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» – 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - число 13;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: уведомление об ошибке «Неверно указан срок действия карты» под полем «Месяц». Форма не отправлена. Оплата по карте с истекшим сроком действия карты (месяц)*

**4. Оплата по карте с истекшим сроком действия карты (месяц):**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» – 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - оследние две цифры текучего месяца -1;
5. Ввести в поле «Год» - последние две цифры текущего года;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: уведомление об ошибке «Истёк срок действия карты» под полем «Месяц». Форма не отправлена.*

**5. Оплата по карте с невалидным сроком действия карты (год):**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» – любое число от 13 до 99;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: уведомление об ошибке «Неверно указан срок действия карты» под полем «Год». Форма не отправлена*

**6. Оплата по карте с истекшим сроком действия карты (год):**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» – последние две цифры текущего года -1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить».
   
*Ожидаемый результат: уведомление об ошибке «Истёк срок действия карты» под полем «Год». Форма не отправлена*

**7. Оплата по карте с числовым значением поля «Владелец»:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - 666666 6666;
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить»
   
*Ожидаемый результат: уведомление об ошибке «Неверный формат» внизу поля «Владелец». Форма не отправлена.*

**8. Оплата по карте с именем владельца карты в поле «Владелец» на кирилице:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - на кирилице;
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить»
   
*Ожидаемый результат: уведомление об ошибке «Неверный формат» внизу поля «Владелец». Форма не отправлена.*

**10. Оплата по карте с именем владельца карты в поле «Владелец», если поле заполнено одним словом:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - одно слово;
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить»
   
*Ожидаемый результат: уведомление об ошибке «Неверный формат» внизу поля «Владелец». Форма не отправлена.*

**10. Оплата по карте с именем владельца карты в поле «Владелец», если поле заполнено спецсимволами:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - спецсимволы;
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить»
   
*Ожидаемый результат: уведомление об ошибке «Неверный формат» внизу поля «Владелец». Форма не отправлена.*

**11. Оплата по карте с именем владельца карты в поле «Владелец» без ограничений на ввод букв:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - набор букв на латинском алфавите;
7. Ввести в поле «CVC/CVV» - трехзначный номер;
8. Кликнуть по кнопке «Продолжить»

*Ожидаемый результат: уведомление об ошибке «Неверный формат» внизу поля «Владелец». Форма не отправлена.*

**12. Оплата по карте с указанием невалидного формата поля CVC/CVV:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» значения в интервале 0-99;
8. Кликнуть по кнопке «Продолжить»;

*Ожидаемый результат: уведомление об ошибке «Неверный формат» под полем «CVC/CVV». Форма не отправлена.*

**13. Оплата по карте нулевым CVC/CVV:**

1. Открыть страницу http://localhost:8080/ ;
2. Кликнуть по кнопке «Купить»;
3. Ввести в поле «Номер карты» - 4444 4444 4444 4441;
4. Ввести в поле «Месяц» - любое число от 01 до 12;
5. Ввести в поле «Год» - последние две цифры текущего года +1;
6. Ввести в поле «Владелец» - валидное значение (например Ivanov Ivan);
7. Ввести в поле «CVC/CVV» значение 000;
8. Кликнуть по кнопке «Продолжить»;

*Ожидаемый результат: уведомление об ошибке «Неверный формат» под полем «CVC/CVV». Форма не отправлена.*

# **Перечень используемых инструментов**
- Java 11 - самый популярный язык программирования для написания кроссплатформенных приложений. Также успешно применяется в автоматизации тестирования.
- IntellijIDEA Community Edition 2022.3 -среда разработки, поддерживающая множество плагинов, систем управления и контроля версий
- Gradle - система автоматической сборки и управления зависимостями.
- JUnit 5 - одна из самых популярных платформ модульного тестирования.
- Docker- открытая платформа для разработки, доставки и эксплуатации приложений, с помощью которой можно разворачивать мультиконтейнерные приложения без установки специального отдельного ПО(в данном случае MySQL, PostgreSQL, Node)
- Selenide - библиотека для написания лаконичных и стабильных UI тестов с открытым исходным кодом на основе Selenium WebDriver.
- MySQL - одна из наиболее используемых систем управления базами данных.
- PostgreSQL 12-alpine (заявлена поддержка этой СУБД) - объектно-реляционная система баз данных.
- REST Assured 4.3.0-Java-библиотека для тестирования RESTful API, для того, чтобы посылать запросы и проверять ответы.
- Allure - фреймворк,предназначенныйдля создания визуально нагляднойкартины выполнения тестов.Генерирует более интересные и содержательные отчёты, чем Gradle.
- Java Faker-библиотека, которую можно использовать для создания широкого спектра реально выглядящих данных от адресов до ссылок на популярные культуры.
- Google Chrome Версия 116.0.5845.188 (Официальная сборка), (64 бит)-один из самых популярных и удобных браузеров.
- GitHub-крупнейший веб-сервис для хостинга IT-проектов и их совместной разработки, основанный на системе контроля Git.

## **Перечень и описание возможных рисков при автоматизации**
1. Отсутствие технической документации, без которой нет точного понимания как должна работать SUT, и какое именно поведение системы будет считаться ошибкой.
Реальная система будет отличаться от SUT.
2. Использование захардкоренных номеров карт может привести к ошибкам в работе реальной системы, т.к. существует множество различных банковских карт (и с 16-значными, и с 12-значными, и с 10-значными номерами).
3. Использование двух БД может привести к затруднениям и ошибкам.

## **Интервальная оценка с учётом рисков (в часах)**
1. Создание проекта и запуск SUT-10 часов.
2. Написание тест-плана - 10 часов.
3. Написание и прогон автотестов - 160 часов.
4. Дополнительное время на устранение замечаний - 
5. Подготовка отчетов по итогам тестирования - 
6. Подготовка учетных документов по итогам автоматизации -
   
## **План сдачи работ**
1. Автотесты - 
2. Отчётные документы по итогам тестирования - 
3. Подготовка отчета по итогам автоматизации - 
